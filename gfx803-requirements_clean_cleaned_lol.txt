# ============================================================
# gfx803 / Polaris ROCm container requirements (Py312)
# DO NOT use on host (.venv)
# ============================================================

# Local editable dependency for chat context sync tooling (re_gpt.cli)
-e ./reverse-engineered-chatgpt

# --------------------
# Core numeric stack
# --------------------
numpy>=2.1,<2.3
scipy
numba>=0.61

# --------------------
# Torch ecosystem
# (torch installed separately via ROCm wheel or file://)
# --------------------
# torch
# torchaudio
# torchvision
torchmetrics>=1.6
torch-audiomentations>=0.11
pytorch-metric-learning>=2.8

# --------------------
# Whisper / ASR
# --------------------
faster-whisper==1.1.1
ctranslate2>=4.1,<4.8
openai-whisper @ git+https://github.com/jhj0517/jhj0517-whisper.git

# WhisperX + diarization (NumPy 2 era)
whisperx==3.3.4
pyannote.audio==3.3.2
speechbrain>=1.0.0

# --------------------
# Audio I/O & DSP
# --------------------
soundfile
sounddevice
librosa>=0.11
soxr
pyaudio
webrtcvad

# --------------------
# NLP (NumPy 2 compatible)
# --------------------
spacy>=3.8,<3.9
thinc>=8.3
blis>=1.3
weasel>=0.4
nltk

# --------------------
# ONNX / inference
# --------------------
onnx>=1.18
onnxruntime>=1.22
# onnxruntime-gpu OK in container if ROCm build is present

# --------------------
# Web / UI (optional but common)
# --------------------
fastapi
uvicorn
gradio>=5
gradio_client
streamlit

# --------------------
# Utilities
# --------------------
tqdm
rich
requests
packaging
jsonschema
pydantic>=2
sqlalchemy>=2.0
sqlmodel>=0.0.31
pdfminer.six
websockets
curl_cffi
pytest
hypothesis
ijson
matplotlib
pyyaml


# --------------------
# Git edges (shared with host)
# --------------------
pyrubberband @ git+https://github.com/jhj0517/pyrubberband.git
uvr @ git+https://github.com/jhj0517/ultimatevocalremover_api.git
#python-doctr @ git+https://github.com/koenvaneijk/doctr.git
python-doctr @ git+https://github.com/mindee/doctr.git
